(function(e){function t(t){for(var s,r,o=t[0],c=t[1],l=t[2],u=0,m=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&m.push(i[r][0]),i[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);d&&d(t);while(m.length)m.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],s=!0,o=1;o<a.length;o++){var c=a[o];0!==i[c]&&(s=!1)}s&&(n.splice(t--,1),e=r(r.s=a[0]))}return e}var s={},i={app:0},n=[];function r(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=s,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(a,s,function(t){return e[t]}.bind(null,s));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var d=c;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},1188:function(e,t,a){"use strict";var s=a("9c86"),i=a.n(s);i.a},"11ff":function(e,t,a){},"188a":function(e,t,a){"use strict";var s=a("eee8"),i=a.n(s);i.a},"1d29":function(e,t,a){"use strict";var s=a("e518"),i=a.n(s);i.a},"25c2":function(e,t,a){"use strict";var s=a("e0c5"),i=a.n(s);i.a},"2c26":function(e,t,a){"use strict";var s=a("6e2b"),i=a.n(s);i.a},"3aff":function(e,t,a){},"463d":function(e,t,a){},4678:function(e,t,a){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc10","./be.js":"1fc10","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c57","./gu.js":"e0c57","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(e){var t=n(e);return a(t)}function n(e){if(!a.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}i.keys=function(){return Object.keys(s)},i.resolve=n,e.exports=i,i.id="4678"},"4dad":function(e,t,a){"use strict";var s=a("6114"),i=a.n(s);i.a},"4e13":function(e,t){e.exports="data:image/jpeg;base64,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"},"4ffb":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e623"),a("e379"),a("5dc8"),a("37e1");var s=a("2b0e"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},n=[],r={mounted:function(){}},o=r,c=(a("188a"),a("2877")),l=Object(c["a"])(o,i,n,!1,null,"cafe75b8",null),d=l.exports,u=(a("3aff"),a("5c96")),m=a.n(u),p=(a("0fae"),a("8c4f")),g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"manager-page"},[a("div",{staticClass:"manager-page-header"},[a("div",{staticClass:"search-input-view"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.keywords,expression:"keywords"}],attrs:{placeholder:"请输入查找的信息"},domProps:{value:e.keywords},on:{input:function(t){t.target.composing||(e.keywords=t.target.value)}}}),e.hasResult?a("i",{staticClass:"iconfont iconchazhao",on:{click:e.submitSearchInput}}):e._e(),e.hasResult?e._e():a("i",{staticClass:"iconfont icontubiao-",on:{click:e.cancelSearch}})]),a("div",{staticClass:"manager-page-header-btn"},[a("div",{staticClass:"manager-page-header-editBtn",on:{click:e.newInfo}},[a("i",{staticClass:"iconfont iconxinjian"}),a("span",[e._v("新建患者档案")])]),a("div",{staticClass:"manager-page-header-editBtn",on:{click:e.multiplyDelete}},[a("i",{staticClass:"iconfont iconshanchu"}),a("span",[e._v("批量删除")])])])]),a("div",{staticClass:"manager-page-body"},[a("el-table",{attrs:{data:e.tableData,stripe:"","header-cell-class-name":"cell-text-center","cell-class-name":"cell-text-center"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{staticClass:"el-table-selection",attrs:{type:"selection"}}),a("el-table-column",{attrs:{label:"序号",type:"index",index:e.indexMethod,width:"65"}}),a("el-table-column",{attrs:{prop:"name",label:"姓名"}}),a("el-table-column",{attrs:{prop:"identify_card",label:"身份证号"}}),a("el-table-column",{attrs:{prop:"sex",label:"性别"}}),a("el-table-column",{attrs:{prop:"age",label:"年龄"}}),a("el-table-column",{attrs:{prop:"edit",label:"编辑"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"el-btn-item",attrs:{type:"text"},nativeOn:{click:function(a){return a.preventDefault(),e.browseInfo(t.row,e.tableData)}}},[e._v("查看")]),a("el-button",{staticClass:"el-btn-item",attrs:{type:"text"},nativeOn:{click:function(a){return a.preventDefault(),e.addCase(t.row,e.tableData)}}},[e._v("新增")]),a("el-button",{staticClass:"el-btn-item",attrs:{type:"text"},nativeOn:{click:function(a){return a.preventDefault(),e.deleteInfo(t.row,e.tableData)}}},[e._v("删除")])]}}])})],1)],1),a("div",{staticClass:"manager-page-footer"},[a("el-pagination",{attrs:{layout:"prev, pager, next",total:e.sum_patients},on:{"current-change":e.handleCurrentChange}})],1)])},f=[],h=(a("d81d"),a("ac1f"),a("5319"),a("5530")),v=(a("99af"),a("d3b7"),a("bc3a")),b=a.n(v),w={timeout:1e4,headers:{"Content-Type":"application/json;charset=UTF-8"}},y=b.a.create(w);y.interceptors.request.use((function(e){return e})),y.interceptors.response.use((function(e){return e.data}),(function(e){console.log("TCL: error",e);void 0!==e.Message&&e.Message;return Promise.reject(e)}));var C=y;function _(e,t){return C({url:e.url,method:e.method,headers:e.headers,data:t.params}).then((function(e){0==e.code?t.success&&"function"===typeof t.success&&t.success(e):t.fail&&"function"===typeof t.fail&&t.fail(e)})).catch((function(e){throw e}))}var x=function(e){var t={url:"/login",method:"post"};return _(t,e)},D=function(e){var t={url:"/department",method:"get"};return _(t,e)},j=function(e){var t={url:"/identify",method:"post"};return _(t,e)},S=function(e){var t={url:"/reset_password",method:"post"};return _(t,e)},k=function(e){var t={url:"/sign_in",method:"post"};return _(t,e)},$=function(e){var t={url:"/patientInfo/patientFiles/".concat(e.params.docId,"?query=").concat(e.params.keywords,"&pagenum=").concat(e.params.pageNum,"&pagesize=").concat(e.params.pageSize),method:"get"};return _(t,e)},A=function(e){var t={url:"/patientInfo/patientFiles/".concat(e.params.docId,"?pagenum=").concat(e.params.pageNum,"&pagesize=").concat(e.params.pageSize),method:"get"};return _(t,e)},I=function(e){var t={url:"/patientInfo/del",method:"post"};return _(t,e)},N=function(e){var t={url:"/patientInfo/newPatientFiles/submission",method:"post"};return _(t,e)},B=function(e){var t={url:"/patientInfo/newPatientCases/quality",method:"post"};return _(t,e)},O=function(e){var t={url:"/patientInfo/newPatientCases/submission",method:"post"};return _(t,e)},P=function(e){var t={url:"/execute",method:"post"};return _(t,e)},z=function(e){var t={url:"/patientInfo/chart/".concat(e.params.identify_card,"?type=").concat(e.params.type),method:"get"};return _(t,e)},F=function(e){var t={url:"/patientInfo/patientcases/".concat(e.params.identify_card),method:"get"};return _(t,e)},R=function(e){var t={url:"/patientInfo/patientCases/del",method:"post"};return _(t,e)},q=function(e){var t={url:"/two/".concat(e.params.case_id,"?organ=").concat(e.params.organ,"&imagenum=").concat(e.params.num),method:"get"};return _(t,e)},U=function(e){var t={url:"/three/".concat(e.params.case_id,"?type=liver"),method:"get"};return _(t,e)},T=function(e){var t={url:"/downloadImage/".concat(e.params.case_id),method:"get"};return _(t,e)},E=function(e){var t={url:"/smoothDegreeImage?case_id=".concat(e.params.case_id,"&num=").concat(e.params.num),method:"get"};return _(t,e)},L=function(e){var t={url:"/smoothDegreeExec",method:"post"};return _(t,e)},Q={data:function(){return{keywords:"",tableData:[],pageSize:10,pageNum:1,deleteAllData:[],sum_patients:0,hasResult:!0,timer:null}},mounted:function(){var e=this;this.$nextTick((function(){e.getTableData()}))},methods:{indexMethod:function(e){return e+1+(this.pageNum-1)*this.pageSize},IsLoadingSuccess:function(){var e=sessionStorage.getItem("idAddingCase");this.tableData.map((function(t){return t.id!==e}))},submitSearchInput:function(){var e=this;$({params:{docId:sessionStorage.getItem("doc_id"),keywords:this.keywords,pageNum:this.pageNum,pageSize:this.pageSize},success:function(t){e.tableData=t.data.patients,e.hasResult=!1},fail:function(t){e.$message({message:t.msg,type:"warning"})},error:function(t){e.$message({message:"服务器异常",type:"warning"})}})},cancelSearch:function(){this.keywords="",this.hasResult=!0,this.getTableData()},handleCurrentChange:function(e){this.pageNum=e,this.getTableData()},getTableData:function(){var e=this;A({params:{docId:sessionStorage.getItem("doc_id"),pageNum:this.pageNum,pageSize:this.pageSize},success:function(t){e.tableData=t.data.patients,e.sum_patients=t.data.sum_patients},fail:function(t){e.$message({message:res.msg,type:"warning"})},error:function(t){e.$message({message:"服务器异常",type:"warning"})}})},newInfo:function(){this.$router.replace({name:"newinfo"});var e={name:"新建患者档案",path:"/index/newinfo"};this.$store.commit("addBreadcrumbData",e)},browseInfo:function(e){this.$router.push({name:"detail",query:Object(h["a"])({},e)});var t={name:"患者影像数据",path:"/index/detail"};this.$store.commit("addBreadcrumbData",t)},addCase:function(e){sessionStorage.setItem("id",e.identify_card),this.$router.replace({name:"addcase",query:Object(h["a"])(Object(h["a"])({},e),{},{to:"manager"})});var t={name:"新增影像病历",path:"/index/addcase"};this.$store.commit("addBreadcrumbData",t)},deleteCase:function(e){var t=this;I({params:{identify_card:e},success:function(e){t.getTableData(),t.$message({message:"删除成功",type:"success"})},fail:function(e){t.getTableData(),t.$message({message:"删除失败",type:"warning"})},error:function(e){t.$message({message:"删除失败",type:"warning"})}})},multiplyDelete:function(){0===this.deleteAllData.length?this.$message({message:"请先选择要删除的数据",type:"warning"}):this.deleteCase(this.deleteAllData)},deleteInfo:function(e,t){this.deleteCase([e.identify_card])},handleSelectionChange:function(e){var t=[];e.map((function(e){t.push(e.identify_card)})),this.deleteAllData=t}}},M=Q,V=(a("c318"),Object(c["a"])(M,g,f,!1,null,"aa2d5952",null)),G=V.exports,J=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"addcase-page"},[e._m(0),a("div",{staticClass:"addcase-info"},[a("div",{staticClass:"addcase-info-information"},[a("div",{staticClass:"addcase-info-tall-weight"},[a("div",{staticClass:"addcase-input-info"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.tall,expression:"tall"}],staticClass:"addcase-input-tall-weight",attrs:{placeholder:"身高"},domProps:{value:e.tall},on:{input:function(t){t.target.composing||(e.tall=t.target.value)}}}),a("span",{staticClass:"tall-weight-icon"},[e._v("cm")])]),a("div",{staticClass:"addcase-input-info"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.weight,expression:"weight"}],staticClass:"addcase-input-tall-weight",attrs:{placeholder:"体重"},domProps:{value:e.weight},on:{input:function(t){t.target.composing||(e.weight=t.target.value)}}}),a("span",{staticClass:"tall-weight-icon"},[e._v("kg")])])]),a("div",{staticClass:"addcase-info-remark"},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"请输入备注信息"},model:{value:e.remark,callback:function(t){e.remark=t},expression:"remark"}})],1)]),1===e.activeCheck?a("div",{staticClass:"submit-addcase-btn",on:{click:e.submitAddcase}},[a("span",[e._v("确认信息")])]):e._e()]),a("div",{staticClass:"upload-box"},[e.dropzoneOptions.url?a("vue-dropzone",{ref:"myVueDropzone",staticClass:"upload-demo",attrs:{id:"dropzone",options:e.dropzoneOptions}}):e._e(),e.dropzoneOptions.url?e._e():a("span",{staticClass:"upload-tips"},[e._v("请先确认身高体重信息之后再上传文件")])],1),1===e.activeFile?a("div",{staticClass:"submit-addcase-file-btn",on:{click:e.submitCaseFile}},[a("span",[e._v("上传完成")])]):e._e()])])},Z=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"addcase-title"},[a("span",[e._v("新增影像病历")])])}],K=a("92c3"),Y=a.n(K),H=(a("1e3f"),{name:"app",components:{vueDropzone:Y.a},data:function(){var e=this;return{tall:"",weight:"",remark:"",caseId:"",activeCheck:1,activeFile:0,dropzoneOptions:{url:"",thumbnailWidth:50,thumbnailHeight:50,headers:{"My-Awesome-Header":"header value"},acceptedFiles:".dcm,.rar,.zip,.7z,.CAB,.ARJ,.LZH,.TAR,.GZ,.ACE,.UUE,.BZ2,.JAR,.ISO,.MPQ",init:function(){this.on("queuecomplete",(function(t){e.activeFile=1}))}}}},mounted:function(){},methods:{beforeUpload:function(){return!!this.caseId||(this.$message({message:"请先确认基本信息",type:"warning"}),!1)},submitAddcase:function(){var e=this;this.tall&&this.weight?O({params:{height:this.tall,identify_card:this.$route.query.identify_card,information:this.remark,weight:this.weight},success:function(t){e.caseId=t.data,e.activeCheck=0,e.$set(e.dropzoneOptions,"url","/uploads/".concat(t.data)),console.log(e.dropzoneOptions.url),e.$message({message:"信息已上传",type:"success"}),sessionStorage.getItem("submitInfo",!0)},fail:function(t){e.$message({message:t.msg,type:"warning"})},error:function(t){e.$message({message:"服务器异常",type:"warning"})}}):this.$message({message:"请先填写身高体重",type:"warning"})},submitCaseFile:function(){if(this.tall&&this.weight){var e=this.$route.query,t=e.to;"manager"===t?this.$store.commit("popBreadcrumbData",0):this.$store.commit("popBreadcrumbData",1),delete e.to,this.$router.replace({name:t,query:Object(h["a"])({},e)}),P({params:{case_id:this.caseId,flag:1},success:function(e){console.log(e)}})}else this.$message({message:"请先填写身高体重",type:"warning"})},initMessage:function(){this.$message({message:"文件已上传完毕，请点击“确认上传”按钮",type:"success"})}}}),W=H,X=(a("1188"),Object(c["a"])(W,J,Z,!1,null,"45bfaea0",null)),ee=X.exports,te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-page"},[a("div",{staticClass:"login-view"},[a("div",{staticClass:"login-view-header"},e._l(e.btnGroup,(function(t,s){return a("div",{key:s.toString(),class:["btn-item",e.activeBtn===s?"active-btn":""],on:{click:function(t){return e.toggleLogin(s)}}},[a("span",[e._v(e._s(t.name))])])})),0),a("div",{staticClass:"login-view-content"},[0===e.activeBtn?a("div",{staticClass:"login-form"},[a("span",[e._v("用户登录")]),a("div",{staticClass:"login-input-view"},[a("i",{staticClass:"iconfont iconicon011"}),a("span",{staticClass:"spliter"}),a("div",{staticClass:"input-view"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.userName,expression:"userName"}],attrs:{type:"text",placeholder:"用户名/手机号"},domProps:{value:e.userName},on:{input:function(t){t.target.composing||(e.userName=t.target.value)}}})])]),a("div",{staticClass:"login-input-view"},[a("i",{staticClass:"iconfont iconmima"}),a("span",{staticClass:"spliter"}),a("div",{staticClass:"input-view"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.pwd,expression:"pwd"}],attrs:{type:"password",placeholder:"密码"},domProps:{value:e.pwd},on:{input:function(t){t.target.composing||(e.pwd=t.target.value)}}})])]),a("div",{staticClass:"login-option-view"},[a("div",{staticClass:"option-auto"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.autoLogin,expression:"autoLogin"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.autoLogin)?e._i(e.autoLogin,null)>-1:e.autoLogin},on:{change:function(t){var a=e.autoLogin,s=t.target,i=!!s.checked;if(Array.isArray(a)){var n=null,r=e._i(a,n);s.checked?r<0&&(e.autoLogin=a.concat([n])):r>-1&&(e.autoLogin=a.slice(0,r).concat(a.slice(r+1)))}else e.autoLogin=i}}}),a("span",[e._v("自动登录")])]),a("div",{staticClass:"option-remember"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.rememberPwd,expression:"rememberPwd"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.rememberPwd)?e._i(e.rememberPwd,null)>-1:e.rememberPwd},on:{change:function(t){var a=e.rememberPwd,s=t.target,i=!!s.checked;if(Array.isArray(a)){var n=null,r=e._i(a,n);s.checked?r<0&&(e.rememberPwd=a.concat([n])):r>-1&&(e.rememberPwd=a.slice(0,r).concat(a.slice(r+1)))}else e.rememberPwd=i}}}),a("span",[e._v("记住密码")])])]),a("div",{staticClass:"login-submit-btn",on:{click:e.submitLogin}},[e._v("登 录")]),a("div",{staticClass:"forget-password"},[a("span",{on:{click:e.forgetPwd}},[e._v("忘记密码？")])])]):e._e(),1===e.activeBtn?a("div",{staticClass:"register-form"},[a("span",[e._v("欢迎注册")]),a("div",{staticClass:"register-input-view"},[a("i",{staticClass:"iconfont iconicon011"}),a("span",{staticClass:"spliter"}),a("div",{staticClass:"input-view"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.registerUsername,expression:"registerUsername"}],attrs:{type:"text",placeholder:"用户名"},domProps:{value:e.registerUsername},on:{input:function(t){t.target.composing||(e.registerUsername=t.target.value)}}})])]),a("div",{staticClass:"register-input-view"},[a("i",{staticClass:"iconfont iconshuru-tianchong"}),a("span",{staticClass:"spliter"}),a("div",{staticClass:"input-view"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.registerName,expression:"registerName"}],attrs:{type:"text",placeholder:"姓名"},domProps:{value:e.registerName},on:{input:function(t){t.target.composing||(e.registerName=t.target.value)}}})])]),a("div",{staticClass:"register-input-view"},[a("i",{staticClass:"iconfont iconmima"}),a("span",{staticClass:"spliter"}),a("div",{staticClass:"input-view"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.registerPwd,expression:"registerPwd"}],attrs:{type:"password",placeholder:"密码"},domProps:{value:e.registerPwd},on:{input:function(t){t.target.composing||(e.registerPwd=t.target.value)}}})])]),a("div",{staticClass:"register-input-view"},[a("i",{staticClass:"iconfont iconmima"}),a("span",{staticClass:"spliter"}),a("div",{staticClass:"input-view"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.registerCheckPwd,expression:"registerCheckPwd"}],attrs:{type:"password",placeholder:"确认密码"},domProps:{value:e.registerCheckPwd},on:{input:function(t){t.target.composing||(e.registerCheckPwd=t.target.value)}}})])]),a("div",{staticClass:"register-input-view"},[a("i",{staticClass:"iconfont iconkeshichangguitijian"}),a("span",{staticClass:"spliter"}),a("div",{staticClass:"input-view"},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.registerDepartment,callback:function(t){e.registerDepartment=t},expression:"registerDepartment"}},e._l(e.optionsDepartment,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)]),a("div",{staticClass:"register-input-view"},[a("span",{staticClass:"area-code"},[e._v(e._s(e.areacode))]),a("span",{staticClass:"spliter"}),a("div",{staticClass:"input-view"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.registerPhoneNum,expression:"registerPhoneNum"}],attrs:{type:"text",placeholder:"手机号码"},domProps:{value:e.registerPhoneNum},on:{input:function(t){t.target.composing||(e.registerPhoneNum=t.target.value)}}})])]),a("div",{staticClass:"identify-code"},[a("div",{staticClass:"input-identify-code"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.identifyCode,expression:"identifyCode"}],attrs:{type:"text",placeholder:"短信验证码"},domProps:{value:e.identifyCode},on:{input:function(t){t.target.composing||(e.identifyCode=t.target.value)}}})]),a("span",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"identify-code-btn",on:{click:e.getCode}},[e._v("获取验证码")]),a("span",{directives:[{name:"show",rawName:"v-show",value:!e.show,expression:"!show"}],staticClass:"count"},[e._v(e._s(e.count)+"s后重试")])]),a("div",{staticClass:"register-submit-btn",on:{click:e.submitRegister}},[a("span",[e._v("立即注册")])])]):e._e()])])])},ae=[],se=a("6199"),ie={data:function(){return{btnGroup:[{name:"登录"},{name:"注册"}],activeBtn:0,userName:"",pwd:"",autoLogin:"",rememberPwd:"",registerUsername:"",registerName:"",registerPwd:"",registerCheckPwd:"",registerDepartment:"",optionsDepartment:[],areacode:"+86",registerPhoneNum:"",identifyCode:"",show:!0,count:"",timer:null}},mounted:function(){var e=this;if(this.getDepartment(),"true"===localStorage.getItem("autoLogin")){this.userName=localStorage.getItem("userName"),this.pwd=localStorage.getItem("pwd");var t=se(this.pwd);x({params:{password:t,username:this.userName},success:function(t){sessionStorage.setItem("doc_id",t.data.doctor_id),sessionStorage.setItem("doc_name",t.data.doctor_name),sessionStorage.setItem("doc_dep",t.data.doctor_dep),e.$router.replace({name:"manager"})}})}"true"===localStorage.getItem("rememberPwd")&&(this.userName=localStorage.getItem("userName"),this.pwd=localStorage.getItem("pwd"))},methods:{toggleLogin:function(e){this.activeBtn=e},getDepartment:function(){var e=this;D({success:function(t){e.optionsDepartment=t.data},fail:function(t){e.$message({message:"服务器异常",type:"warning"})}})},submitLogin:function(){var e=this;if(this.userName&&this.pwd){localStorage.setItem("userName",this.userName),localStorage.setItem("pwd",this.pwd),localStorage.setItem("autoLogin",this.autoLogin),localStorage.setItem("rememberPwd",this.rememberPwd);var t=se(this.pwd);x({params:{password:t,username:this.userName},success:function(t){sessionStorage.setItem("doc_id",t.data.doctor_id),sessionStorage.setItem("doc_name",t.data.doctor_name),sessionStorage.setItem("doc_dep",t.data.doctor_dep),e.$router.replace({name:"manager"})},fail:function(t){e.$message({message:t.msg,type:"warning"})},error:function(t){e.$message({message:"服务器异常",type:"warning"})}})}},forgetPwd:function(){this.$router.push({name:"resetpwd"})},getIdentifyCode:function(){var e=this;this.registerPhoneNum?j({params:{phone_number:this.registerPhoneNum,pre_phone_number:this.areacode},success:function(t){e.$message({message:"正在获取验证码，请稍后",type:"success"})},fail:function(t){e.$message({message:t.msg,type:"warning"})},error:function(t){e.$message({message:res.msg,type:"warning"})}}):this.$message({message:"请输入手机号码",type:"warning"})},getCode:function(){var e=this,t=60;this.getIdentifyCode(),this.timer||(this.count=t,this.show=!1,this.timer=setInterval((function(){e.count>0&&e.count<=t?e.count--:(e.show=!0,clearInterval(e.timer),e.timer=null)}),1e3))},submitRegister:function(){var e=this;if(this.registerUsername&&this.registerUsername&&this.registerPwd&&this.registerCheckPwd&&this.registerDepartment){var t=se(this.registerPwd);k({params:{department:this.registerDepartment,identify:this.identifyCode,name:this.registerName,password:t,phone_number:this.registerPhoneNum,pre_phone_number:"+86",username:this.registerUsername},success:function(t){e.$message({message:"注册成功，请登录",type:"success"}),e.activeBtn=0},fail:function(t){e.$message({message:t.msg,type:"error"})},error:function(t){e.$message({message:res.msg,type:"error"})}})}else this.registerPwd!==this.registerCheckPwd?this.$message({message:"密码不一致",type:"error"}):this.$message({message:"表单内容不能为空",type:"error"})}}},ne=ie,re=(a("dc24"),Object(c["a"])(ne,te,ae,!1,null,"629ae234",null)),oe=re.exports,ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home-page"},[a("div",{staticClass:"page-header"},[e._m(0),a("div",{staticClass:"page-header-right"},[e._m(1),a("div",{staticClass:"notice-help-upgrade"},[e._v("帮助")]),a("div",{staticClass:"notice-help-upgrade"},[e._v("升级")]),a("div",{staticClass:"quit"},[a("div",{staticClass:"circle"}),a("div",{staticClass:"quit-words",on:{click:e.logout}},[e._v("退出")])])])]),a("div",{staticClass:"page-container"},[e._m(2),a("div",{staticClass:"page-content"},[a("div",{staticClass:"page-content-header"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},e._l(e.$store.state.breadcrumbData,(function(t,s){return a("el-breadcrumb-item",{key:s.toString()},[a("span",{class:s===e.$store.state.breadcrumbData.length-1?"active-breadcrumb":"breadcrumb",on:{click:function(a){return e.linkToBreadcrumb(t.path,s)}}},[e._v(" "+e._s(t.name)+" ")])])})),1),a("div",{staticClass:"page-content-header-right"},[a("div",{staticClass:"docoterName-dep-date"},[e._v(" 医生姓名:"),a("span",[e._v(e._s(e.docName))])]),a("div",{staticClass:"docoterName-dep-date"},[e._v("科室："),a("span",[e._v(e._s(e.docDep))])]),a("div",{staticClass:"docoterName-dep-date"},[e._v("日期："),a("span",[e._v(e._s(e.thisDay))])])])],1),a("router-view",{staticClass:"page-content-body"})],1)])])},le=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-header-title"},[a("span",[e._v("肝脏影像分析平台")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"notice-help-upgrade"},[a("i",{staticClass:"iconfont icontongzhi"}),a("span",[e._v("通知")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-aside"},[a("i",{staticClass:"iconfont icondanganhe"}),a("span",[e._v("患者档案管理")])])}],de=a("c1df"),ue=a.n(de),me={name:"App",data:function(){return{asideNav:[{path:"/index/manager",label:"档案管理页面"}],activeNav:"/index/manager",docName:"",docDep:"",thisDay:""}},methods:{linkTo:function(e){this.activeNav=e,this.$router.push(e)},getAsideClass:function(e){var t=this.activeNav===e?"aside-item-active":"";return["aside-item",t]},linkToBreadcrumb:function(e,t){this.$store.commit("popBreadcrumbData",t);var a=this.$route.query;this.$router.replace({path:e,query:Object(h["a"])({},a)})},logout:function(){sessionStorage.clear(),localStorage.clear(),this.$store.commit("popBreadcrumbData",0),this.$router.replace({name:"login"})}},mounted:function(){var e=this;this.thisDay=ue()().format("YYYY-MM-DD"),this.$nextTick((function(){e.docName=sessionStorage.getItem("doc_name"),e.docDep=sessionStorage.getItem("doc_dep")}))}},pe=me,ge=(a("1d29"),Object(c["a"])(pe,ce,le,!1,null,"08f718ec",null)),fe=ge.exports,he=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail-page"},[a("div",{staticClass:"detail-page-top"},[a("div",{staticClass:"detaile-page-top-left"},[a("div",{staticClass:"detail-page-display-info"},[a("span",{staticClass:"detail-page-display-info-title"},[e._v("当前患者信息：")]),a("span",{staticClass:"detail-page-display-info-content"},[e._v("姓名："+e._s(e.detail.name))]),a("span",{staticClass:"detail-page-display-info-content"},[e._v("身份证号："+e._s(e.detail.identify_card))]),a("span",{staticClass:"detail-page-display-info-content"},[e._v("年龄："+e._s(e.detail.age))]),a("span",{staticClass:"detail-page-display-info-content"},[e._v("性别："+e._s(e.detail.sex))])]),a("div",{staticClass:"detail-page-top-addcase-btn",on:{click:function(t){return e.addCase()}}},[a("i",{staticClass:"iconfont iconxinjian"}),a("span",[e._v("新增影像病历")])])]),a("div",{staticClass:"basic-chart"},[a("v-chart",{attrs:{options:e.liverVolumeChart,autoresize:""}})],1),a("div",{staticClass:"basic-chart"},[a("v-chart",{attrs:{options:e.liverSpleenRatioChart,autoresize:""}})],1)]),a("div",{staticClass:"detail-page-bottom"},[a("el-table",{attrs:{data:e.tableData,stripe:"",height:e.tableFlexHeight,width:"400","header-cell-class-name":"cell-text-center","cell-class-name":"cell-text-center"}},[a("el-table-column",{attrs:{prop:"time",label:"时间"}}),a("el-table-column",{attrs:{prop:"height",label:"身高"}}),a("el-table-column",{attrs:{prop:"weight",label:"体重"}}),a("el-table-column",{attrs:{label:"体表面积"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(" "+e._s(parseFloat(t.row.body_surface_area||0).toFixed(4))+" ")])]}}])}),a("el-table-column",{attrs:{label:"实测肝体积"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(" "+e._s(parseFloat(t.row.real_liver_volume||0).toFixed(4))+" ")]),a("el-button",{staticClass:"el-btn-item",attrs:{type:"text"},nativeOn:{click:function(a){return a.preventDefault(),e.ddviewLiver(t.row,e.tableData)}}},[e._v("2D")])]}}])}),a("el-table-column",{attrs:{label:"标准肝体积"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(" "+e._s(parseFloat(t.row.standard_liver_volume||0).toFixed(4))+" ")])]}}])}),a("el-table-column",{attrs:{label:"脾脏体积"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(" "+e._s(parseFloat(t.row.real_spleen_volume||0).toFixed(4))+" ")]),a("el-button",{staticClass:"el-btn-item",attrs:{type:"text"},nativeOn:{click:function(a){return a.preventDefault(),e.ddviewSpleen(t.row,e.tableData)}}},[e._v("2D")])]}}])}),a("el-table-column",{attrs:{label:"肝脾比"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(" "+e._s(parseFloat(t.row.liver_spleen_ratio||0).toFixed(4))+" ")])]}}])}),a("el-table-column",{attrs:{label:"肝表面平滑度"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(" "+e._s(parseFloat(t.row.liver_smoothness||0).toFixed(4))+" ")])]}}])}),a("el-table-column",{attrs:{label:"肿瘤体积"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(" "+e._s(parseFloat(t.row.tumor_volume||0).toFixed(4))+" ")]),a("el-button",{staticClass:"el-btn-item",attrs:{type:"text"},nativeOn:{click:function(a){return a.preventDefault(),e.ddviewTumor(t.row,e.tableData,e.tumor)}}},[e._v("2D")])]}}])}),a("el-table-column",{attrs:{label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.schedule?a("div",[e._v("分析中")]):e._e(),1==t.row.schedule?a("div",{staticStyle:{color:"#3DA58F"}},[e._v("已完成")]):e._e(),2==t.row.schedule?a("div",[e._v("未上传dcm")]):e._e()]}}])}),a("el-table-column",{attrs:{label:"备注"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.row.information,placement:"right-end"}},[a("div",{attrs:{slot:""},slot:"default"},[e._v(e._s(t.row.information))]),t.row.information?a("el-button",{attrs:{type:"text"}},[e._v("查看")]):e._e()],1)]}}])}),a("el-table-column",{scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.schedule?a("el-button",{attrs:{type:"text"}},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.count<1&&e.crtIndex!==t.$index,expression:"count < 1 && crtIndex !== scope.$index"}],attrs:{type:"text"},nativeOn:{click:function(a){return a.preventDefault(),e.executeAgain(t.row,t,e.tableData)}}},[e._v("重试")]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.count>=1&&e.crtIndex===t.$index,expression:"count >= 1 && crtIndex === scope.$index"}],staticClass:"count",staticStyle:{color:"#000",cursor:"default"}},[e._v(e._s(e.count)+"s后重试")])],1):e._e()]}}])}),a("el-table-column",{attrs:{prop:"edit",label:"操作",fixed:"right","min-width":"90px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"el-btn-item",attrs:{type:"text"},nativeOn:{click:function(a){return a.preventDefault(),e.report(t.row,e.tableData)}}},[e._v("报告")]),a("el-button",{staticClass:"el-btn-item",attrs:{type:"text"},nativeOn:{click:function(a){return a.preventDefault(),e.dddview(t.row,e.tableData)}}},[e._v("3D")]),a("el-button",{staticClass:"el-btn-item",attrs:{type:"text"},nativeOn:{click:function(a){return a.preventDefault(),e.download(t.row,e.tableData)}}},[e._v("下载")]),a("el-button",{staticClass:"el-btn-item",attrs:{type:"text"},nativeOn:{click:function(a){return a.preventDefault(),e.deleteInfo(t.row,e.tableData)}}},[e._v("删除")])]}}])})],1)],1)])},ve=[],be=(a("7db0"),a("b680"),a("ade3")),we=a("9ca8"),ye=a("313e"),Ce=a.n(ye),_e={components:{"v-chart":we["a"]},data:function(){var e;return{crtIndex:-1,tableFlexHeight:"250px",liverVolumeChart:{title:{text:"肝体积变化图",textStyle:{color:"#4F4E4E",letterSpace:1},top:"5%",left:"5%"},tooltip:{trigger:"axis",axisPointer:{show:!0,type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{data:["肝脏体积"],textStyle:{fontSize:16,color:"#4F4E4E"},top:"5%",right:30},toolbox:{feature:{saveAsImage:{}}},grid:{left:20,right:60,bottom:"3%",containLabel:!0},xAxis:[Object(be["a"])({type:"category",boundaryGap:!1,data:[],axisLable:{show:!0},axisTick:{show:!1},axisLine:{show:!1}},"boundaryGap",!0)],yAxis:[{type:"value",axisTick:{show:!1},axisLine:{show:!1},axisLable:{show:!1,rotate:"45",fontSize:15,textStyle:{color:"#000",fontSize:15}}}],dataZoom:[{start:0,type:"slider",show:!0,xAxisIndex:[0],handleSize:0,height:5,left:"10%",right:"10%",bottom:26,borderColor:"#fff",fillerColor:"#a5a5a5",borderRadius:5,backgroundColor:"transform",showDataShadow:!1,showDetail:!1,realtime:!0,filterMode:"filter"}],series:[(e={name:"肝脏体积",type:"line",stack:"总量",smooth:!0,lineStyle:{color:"#3da58fff"},itemStyle:{color:"#3da58fff"},label:{fontSize:25},areaStyle:{normal:{color:new Ce.a.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(61, 165, 143, 0.8)"},{offset:.4,color:"rgba(34,182,150,0.3)"},{offset:1,color:"rgba(34,182,150,0.00)"}])}}},Object(be["a"])(e,"label",{normal:{show:!0,position:"top",fontSize:15}}),Object(be["a"])(e,"data",[]),e)]},liverSpleenRatioChart:{title:{text:"肝脾比/平滑度",textStyle:{Color:"#4F4E4E",letterSpace:1},top:"5%",left:"5%"},tooltip:{trigger:"axis",axisPointer:{show:!0,type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{data:["肝脾比","平滑度"],textStyle:{fontSize:16},top:"5%",right:"15%"},toolbox:{feature:{saveAsImage:{}}},grid:{left:20,right:60,bottom:"3%",containLabel:!0},xAxis:[Object(be["a"])({type:"category",boundaryGap:!1,data:[],axisTick:{show:!1},axisLine:{show:!1}},"boundaryGap",!0)],yAxis:[{type:"value",show:!0,axisTick:{show:!1},axisLine:{show:!1}}],dataZoom:[{start:0,type:"slider",show:!0,xAxisIndex:[0],handleSize:0,height:5,left:"10%",right:"10%",bottom:26,borderColor:"#fff",fillerColor:"#a5a5a5",borderRadius:5,backgroundColor:"transform",showDataShadow:!1,showDetail:!1,realtime:!0,filterMode:"filter"}],series:[{name:"肝脾比",type:"line",smooth:!0,areaStyle:{normal:{color:new Ce.a.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(36,114,210,0.8)"},{offset:.4,color:"rgba(36,114,210,0.3)"},{offset:1,color:"rgba(36,114,210,0.00)"}])}},itemStyle:{normal:{color:"rgb(36,114,210)",lineStyle:{color:"rgb(36,114,210)"}}},label:{normal:{show:!0,position:"top",fontSize:15}},data:[]},{name:"平滑度",type:"line",smooth:!0,areaStyle:{normal:{color:new Ce.a.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(237,115,68,0.8)"},{offset:.4,color:"rgba(237,115,68,0.3)"},{offset:1,color:"rgba(237,115,68,0.00)"}])}},itemStyle:{color:"#ED7344"},lineStyle:{color:"#ED7344"},label:{normal:{show:!0,position:"top",fontSize:15}},data:[]}]},chartData:[],tableData:[],detail:{},total:0,pageNum:0,pageSize:10,analyseSuccess:1,analyse_caseId:"",show:!1,count:"",timerr:null}},created:function(){},mounted:function(){var e=this;this.$nextTick((function(){document.documentElement.clientWidth&&document.documentElement.clientWidth>1400?e.tableFlexHeight="380px":e.tableFlexHeight="200px",e.detail=e.$route.query,e.getTableData(),e.getChartsData("volume","liverVolumeChart",0),e.getChartsData("smooth","liverSpleenRatioChart",1),e.getChartsData("ratio","liverSpleenRatioChart",0),e.timer(),e.getCode()}))},beforeDestroy:function(){clearInterval(this.intervalTimer)},methods:{handleCurrentChange:function(e){this.pageNum=e},download:function(e){window.open("http://192.1.100.223:5002/download/".concat(e.case_id))},executeAgain:function(e,t){this.crtIndex=t.$index,this.getCode(),P({params:{case_id:e.case_id,flag:0}})},getCode:function(){var e=this,t=120;this.timerr||(this.count=t,this.show=!1,this.timerr=setInterval((function(){e.count>0&&e.count<=t?e.count--:(e.show=!0,clearInterval(e.timerr),e.timerr=null)}),1e3))},report:function(e){this.$router.push({name:"report",query:Object(h["a"])({case_id:e.case_id},this.$route.query)});var t={name:"结构化报告",path:"/index/report"};this.$store.commit("addBreadcrumbData",t)},dddview:function(e){this.$router.push({name:"view3d",query:Object(h["a"])({case_id:e.case_id},this.$route.query)});var t={name:"查看3维图像",path:"/index/view3d"};this.$store.commit("addBreadcrumbData",t)},addCase:function(){this.$router.replace({name:"addcase",query:Object(h["a"])(Object(h["a"])({},this.$route.query),{},{to:"detail"})});var e={name:"新增影像病历",path:"/index/addcase"};this.$store.commit("addBreadcrumbData",e)},ddviewLiver:function(e){this.$router.push({name:"view2d",query:Object(h["a"])({case_id:e.case_id,organ:"liver"},this.$route.query)});var t={name:"查看2维图像",path:"/index/view2d"};this.$store.commit("addBreadcrumbData",t)},ddviewSpleen:function(e){this.$router.push({name:"view2d",query:Object(h["a"])({case_id:e.case_id,organ:"spleen"},this.$route.query)});var t={name:"查看2维图像",path:"/index/view2d"};this.$store.commit("addBreadcrumbData",t)},ddviewTumor:function(e){this.$router.push({name:"view2d",query:Object(h["a"])({case_id:e.case_id,organ:"tumor"},this.$route.query)});var t={name:"查看2维图像",path:"/index/view2d"};this.$store.commit("addBreadcrumbData",t)},getChartsData:function(e,t,a){var s=this;z({params:{identify_card:this.detail.identify_card,type:e},success:function(e){var i=[],n=[];e.data.map((function(e){i.push({value:e.date,textStyle:{fontSize:15}}),n.push(parseFloat(e.value||0).toFixed(4))})),s.$set(s[t].xAxis[0],"data",i),s.$set(s[t].series[a],"data",n)},fail:function(e){s.$message({message:e.msg,type:"warning"})},error:function(e){s.$message({message:"服务器异常",type:"warning"})}})},getTableData:function(){var e=this;F({params:{identify_card:this.detail.identify_card},success:function(t){e.tableData=t.data,e.total=t.case_count;var a=e.tableData.find((function(e){return 0==e.schedule}));a||clearInterval(e.intervalTimer)},fail:function(t){e.$message({message:t.msg,type:"warning"})},error:function(t){e.$message({message:res.msg,type:"warning"})}})},deleteInfo:function(e){var t=this;R({params:{case_id:[e.case_id]},success:function(e){t.getTableData(),t.getChartsData("volume","liverVolumeChart",0),t.getChartsData("smooth","liverSpleenRatioChart",1),t.getChartsData("ratio","liverSpleenRatioChart",0)},fail:function(e){t.getTableData(),t.getChartsData("volume","liverVolumeChart",0),t.getChartsData("smooth","liverSpleenRatioChart",1),t.getChartsData("ratio","liverSpleenRatioChart",0)},error:function(e){t.$message({message:e.data,type:"warning"})}})},timer:function(){var e=this;this.intervalTimer=setInterval((function(){e.getTableData(),e.getChartsData("volume","liverVolumeChart",0),e.getChartsData("smooth","liverSpleenRatioChart",1),e.getChartsData("ratio","liverSpleenRatioChart",0)}),3e4)}}},xe=_e,De=(a("25c2"),Object(c["a"])(xe,he,ve,!1,null,null,null)),je=De.exports,Se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"view2d-page"},[a("div",{staticClass:"view2d-page-body"},e._l(e.imgData,(function(t,s){return a("div",{key:s.toString(),class:"view2d-page-content"},[a("el-image",{staticClass:"img-view",attrs:{src:t,"preview-src-list":e.getImgDataBig(s)}}),a("div",{staticClass:"img-name"},[e._v(e._s(s+1)+" "),[a("el-button",{staticClass:"el-btn-item",attrs:{type:"text"},nativeOn:{click:function(t){return t.preventDefault(),e.smooth(s+1)}}},[e._v("平滑度")])]],2),a("div",{staticClass:"img-smooth"})],1)})),0)])},ke=[],$e=(a("a15b"),a("fb6a"),a("1276"),{data:function(){return{pageSize:21,pageNum:1,imgData:[],imgDataBig:[]}},methods:{handleCurrentChange:function(e){this.pageNum=e},smooth:function(e){this.$router.push({name:"imagecut",query:Object(h["a"])({num:e},this.$route.query)});var t={name:"平滑度计算",path:"/index/imagecut"};this.$store.commit("addBreadcrumbData",t)},getImgDataBig:function(e){return this.imgDataBig.slice(e).concat(this.imgDataBig.slice(0,e))},getDDViewData:function(){var e=this;q({params:{case_id:this.$route.query.case_id,organ:this.$route.query.organ},success:function(t){var a=[],s=[];t.data.map((function(e){a.push("/getFile?file_path=".concat(e));var t=e.split("/min_"),i=t.join("/");s.push("/getFile?file_path=".concat(i))})),e.imgData=a,e.imgDataBig=s},fail:function(t){e.$message({message:t.msg,type:"warning"})},error:function(t){e.$message({message:"服务器异常",type:"warning"})}})}},mounted:function(){this.getDDViewData()},beforeDestroy:function(){var e=this.$route.query;delete e.imagenum,this.$route.query=e}}),Ae=$e,Ie=(a("83c5"),Object(c["a"])(Ae,Se,ke,!1,null,"462b8057",null)),Ne=Ie.exports,Be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"view3d-page"},[a("div",{ref:"container",staticClass:"container"})])},Oe=[],Pe=(a("38cf"),a("5a89")),ze=(a("6397"),a("53f9")),Fe={data:function(){return{camera:null,scene:null,renderer:null,container:null,mesh:null}},mounted:function(){var e=this;this.$nextTick((function(){e.init()}))},beforeDestroy:function(){cancelAnimationFrame(this.canvasId)},methods:{openFullScreen:function(){var e=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});return e},closeFullScreen:function(e){e.close()},init:function(){var e=this;this.container=this.$refs.container,this.scene=new Pe["Scene"],this.scene.background=new Pe["Color"](13426943);var t=1*this.container.offsetWidth,s=1*this.container.offsetHeight,i=new Pe["PerspectiveCamera"](45,t/s,.1,1e4);i.position.set(0,175,500),this.camera=i,this.renderer=new Pe["WebGLRenderer"]({antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(1*this.container.offsetWidth,1*this.container.offsetHeight),this.container.appendChild(this.renderer.domElement);var n=new Pe["DirectionalLight"](16777215,1);n.position.set(1,1,1).normalize(),this.scene.add(n);var r=new Pe["DirectionalLight"](16777215,1);r.position.set(-1,-1,-1).normalize(),this.scene.add(r);var o=new Pe["DirectionalLight"](16777215,1);o.position.set(1,1,0).normalize();new Pe["DirectionalLight"](16777215,1);o.position.set(0,1,1).normalize();var c=new Pe["AmbientLight"](16777215);this.scene.add(c);new Pe["HemisphereLight"](16777147,526368,1);U({params:{case_id:this.$route.query.case_id},success:function(t){e.openFullScreen(),e.mesh=(new ze["OBJLoader"]).load("/getFile?file_path=".concat(t.data),(function(t){t.children[0].geometry.computeBoundingBox(),t.rotation.x=Pe["Math"].degToRad(90),t.children[0].geometry.boundingBox.max.x,t.children[0].geometry.boundingBox.min.x,t.children[0].geometry.boundingBox.max.y,t.children[0].geometry.boundingBox.min.y,t.children[0].geometry.boundingBox.max.z,t.children[0].geometry.boundingBox.min.z,t.children[0].geometry.center(),console.log(t);var s=(new Pe["TextureLoader"]).load(a("4e13"));s.wrapS=Pe["RepeatWrapping"],s.wrapT=Pe["RepeatWrapping"],s.repeat.set(10,10),t.children[0].material.map=s,t.children[0].material.needsUpdate=!0,t.children[0].material.side=Pe["DoubleSide"],e.showLoading=0,e.closeFullScreen(e.openFullScreen()),e.scene.add(t)}))},fail:function(t){e.$message({message:t.msg,type:"warning"})}}),this.orbitControls=new Pe["OrbitControls"](this.camera,this.renderer.domElement),this.orbitControls.target=new Pe["Vector3"](0,0,0),this.orbitControls.autoRotate=!1,this.orbitControls.dampingFactor=.2,this.clock=new Pe["Clock"];var l=function t(){console.log("a"),e.canvasId=requestAnimationFrame(t),e.camera.updateMatrixWorld();var a=e.clock.getDelta();e.orbitControls.update(a),e.renderer.render(e.scene,e.camera)};l()}}},Re=Fe,qe=(a("2c26"),Object(c["a"])(Re,Be,Oe,!1,null,"5de478a4",null)),Ue=qe.exports,Te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"resetpwd-page"},[a("div",{staticClass:"resetpwd-view"},[a("div",{staticClass:"resetpwd-view-header"},[a("i",{staticClass:"iconfont iconfanhui",on:{click:e.backLogin}})]),a("div",{staticClass:"resetpwd-view-content"},[a("div",{staticClass:"resetpwd-form"},[a("span",{staticClass:"resetpwd-form-title"},[e._v("重设密码")]),a("div",{staticClass:"resetpwd-input-view"},[a("span",{staticClass:"area-code"},[e._v(e._s(e.areacode))]),a("span",{staticClass:"spliter"}),a("div",{staticClass:"input-view"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.restetPhoneNum,expression:"restetPhoneNum"}],attrs:{type:"text",placeholder:"手机号码"},domProps:{value:e.restetPhoneNum},on:{input:function(t){t.target.composing||(e.restetPhoneNum=t.target.value)}}})])]),a("div",{staticClass:"identify-code"},[a("div",{staticClass:"input-identify-code"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.identifyCode,expression:"identifyCode"}],attrs:{type:"text",placeholder:"短信验证码"},domProps:{value:e.identifyCode},on:{input:function(t){t.target.composing||(e.identifyCode=t.target.value)}}})]),a("span",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"identify-code-btn",on:{click:e.getCode}},[e._v("获取验证码")]),a("span",{directives:[{name:"show",rawName:"v-show",value:!e.show,expression:"!show"}],staticClass:"count"},[e._v(e._s(e.count)+"s后重试")])]),a("div",{staticClass:"resetpwd-input-view"},[a("i",{staticClass:"iconfont iconmima"}),a("span",{staticClass:"spliter"}),a("div",{staticClass:"input-view"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newPwd,expression:"newPwd"}],attrs:{type:"password",placeholder:"新密码"},domProps:{value:e.newPwd},on:{input:function(t){t.target.composing||(e.newPwd=t.target.value)}}})])]),a("div",{staticClass:"resetpwd-input-view"},[a("i",{staticClass:"iconfont iconmima"}),a("span",{staticClass:"spliter"}),a("div",{staticClass:"input-view"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.checkNewPwd,expression:"checkNewPwd"}],attrs:{type:"password",placeholder:"确认密码"},domProps:{value:e.checkNewPwd},on:{input:function(t){t.target.composing||(e.checkNewPwd=t.target.value)}}})])]),a("div",{staticClass:"submit-resetpwd-btn",on:{click:e.submitResetPwd}},[a("span",[e._v("重设密码")])])])])])])},Ee=[],Le=a("6199"),Qe={data:function(){return{areacode:"+86",restetPhoneNum:"",identifyCode:"",newPwd:"",checkNewPwd:"",show:!0,count:"",timer:null}},methods:{backLogin:function(){this.$router.replace({name:"login"})},getIdentify:function(){var e=this;this.restetPhoneNum?j({params:{phone_number:this.restetPhoneNum,pre_phone_number:this.areacode},success:function(t){e.$message({message:"正在获取验证码，请稍后",type:"success"})},fail:function(t){e.$message({message:"服务器异常",type:"warning"})},error:function(t){e.$message({message:"服务器异常",type:"warning"})}}):this.$message({message:"请输入手机号码",type:"warning"})},getCode:function(){var e=this,t=60;this.getIdentify(),this.timer||(this.count=t,this.show=!1,this.timer=setInterval((function(){e.count>0&&e.count<=t?e.count--:(e.show=!0,clearInterval(e.timer),e.timer=null)}),1e3))},submitResetPwd:function(){var e=this;if(this.identifyCode)if(this.newPwd)if(this.checkNewPwd){var t=Le(this.newPwd);S({params:{password:t,identify:this.identifyCode,phone_number:this.restetPhoneNum,pre_phone_number:this.areacode},success:function(t){e.$message({message:"密码已更新，请重新登录",type:"success"}),e.$router.replace({name:"login"})},fail:function(t){e.$message({message:t.msg,type:"warning"})},erroe:function(t){e.$message({message:"服务器异常",type:"warning"})}})}else this.$message({message:"请确认密码",type:"warning"});else this.$message({message:"请输入新密码",type:"warning"});else this.$message({message:"请输入短信验证码",type:"warning"})}}},Me=Qe,Ve=(a("c7f2"),Object(c["a"])(Me,Te,Ee,!1,null,"fd52cc9a",null)),Ge=Ve.exports,Je=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"newinfo-page"},[e._m(0),a("div",{staticClass:"newinfo-input-info"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"newinfo-input-tall-weight",attrs:{placeholder:"姓名"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),a("div",{staticClass:"newinfo-input-info"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.id,expression:"id"}],staticClass:"newinfo-input-tall-weight",attrs:{placeholder:"身份证号",maxlength:"18",minlength:"18"},domProps:{value:e.id},on:{input:function(t){t.target.composing||(e.id=t.target.value)}}})]),a("div",{staticClass:"newinfo-submit-btn",on:{click:e.submitNewinfor}},[a("span",[e._v("下一步")])])])])},Ze=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"newinfo-title"},[a("span",[e._v("新建病人档案")])])}],Ke=(a("b0c0"),{data:function(){return{name:"",id:""}},methods:{getInfoById:function(){var e=this.id,t="男";1==e[16]||(t="女");var a=new Date,s=a.getMonth()+1,i=a.getDate(),n=a.getFullYear()-e.substring(6,10)-1;return(e.substring(10,12)<s||e.substring(10,12)==s&&e.substring(12,14)<=i)&&n++,{age:n,sex:t}},submitNewinfor:function(){var e=this;function t(e){for(var t=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],a=["1","0","X","9","8","7","6","5","4","3","2"],s=e+"",i=e[17],n=s.substring(0,17),r=n.split(""),o=r.length,c=0,l=0;l<o;l++)c+=r[l]*t[l];var d=c%11,u=a[d],m=/^[1-9][0-9]{5}([1][9][0-9]{2}|[2][0][0|1][0-9])([0][1-9]|[1][0|1|2])([0][1-9]|[1|2][0-9]|[3][0|1])[0-9]{3}([0-9]|[X])$/,p=m.test(e);return!(i!==u||!p)}var a=t(this.id);if(this.name)if(a){var s=sessionStorage.getItem("doc_id");N({params:{doctor_id:s,identify_card:this.id,name:this.name},success:function(t){sessionStorage.setItem("idAddingCase",e.id),e.$message({message:"信息已上传",type:"success"}),e.$router.push({name:"addcase",query:Object(h["a"])(Object(h["a"])({identify_card:e.id,name:e.name},e.getInfoById()),{},{to:"manager"})});var a={name:"新增影像病历",path:"/index/addcase"};e.$store.commit("addBreadcrumbData",a)},fail:function(t){e.$message({message:t.data,type:"warning"})},error:function(t){e.$message({message:res.data,type:"warning"})}})}else this.$message({message:"身份证不合法",type:"error"});else this.$message({message:"请输入姓名",center:!0,type:"error"})}}}),Ye=Ke,He=(a("a3a0"),Object(c["a"])(Ye,Je,Ze,!1,null,"d637fe92",null)),We=He.exports,Xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"addcase-page"},[e._m(0),a("div",{staticClass:"addcase-info"},[a("div",{staticClass:"addcase-info-information"},[a("div",{staticClass:"addcase-info-tall-weight"},[a("div",{staticClass:"addcase-input-info"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.tall,expression:"tall"}],staticClass:"addcase-input-tall-weight",attrs:{placeholder:"图像质量"},domProps:{value:e.tall},on:{input:function(t){t.target.composing||(e.tall=t.target.value)}}}),a("span",{staticClass:"tall-weight-icon"},[e._v("%")])])]),a("div",{staticClass:"addcase-info-remark"})]),1===e.activeCheck?a("div",{staticClass:"submit-addcase-btn",on:{click:e.submitAddcase}},[a("span",[e._v("确认信息")])]):e._e()]),a("div",{staticClass:"upload-box"},[e.dropzoneOptions.url?a("vue-dropzone",{ref:"myVueDropzone",staticClass:"upload-demo",attrs:{id:"dropzone",options:e.dropzoneOptions}}):e._e(),e.dropzoneOptions.url?e._e():a("span",{staticClass:"upload-tips"},[e._v("请先确认图片质量信息之后再上传文件")])],1),1===e.activeFile?a("div",{staticClass:"submit-addcase-file-btn",on:{click:e.submitCaseFile}},[a("a",{staticClass:"btn",on:{click:function(t){return e.down("base64")}}},[e._v("下载(base64)")])]):e._e()])])},et=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"addcase-title"},[a("span",[e._v("新增影像病历")])])}],tt=(a("3ca3"),a("ddb0"),a("2b3d"),{name:"app",components:{vueDropzone:Y.a},data:function(){var e=this;return{tall:"",weight:"",remark:"",caseId:"",activeCheck:1,activeFile:0,dropzoneOptions:{url:"",thumbnailWidth:50,thumbnailHeight:50,headers:{"My-Awesome-Header":"header value"},acceptedFiles:".png,.jpg,.gif,.dcm,.rar,.zip,.7z,.CAB,.ARJ,.LZH,.TAR,.GZ,.ACE,.UUE,.BZ2,.JAR,.ISO,.MPQ",init:function(){this.on("queuecomplete",(function(t){e.activeFile=1}))}}}},mounted:function(){},methods:{beforeUpload:function(){return!!this.caseId||(this.$message({message:"请先确认基本信息",type:"warning"}),!1)},down:function(e){var t=this,a=document.createElement("a");a.download="demo","blob"===e?this.$refs.cropper.getCropBlob((function(e){t.downImg=window.URL.createObjectURL(e),a.href=window.URL.createObjectURL(e),a.click()})):this.$refs.cropper.getCropData((function(e){t.downImg=e,a.href=e,a.click()}))},submitAddcase:function(){var e=this;this.tall?B({params:{height:this.tall},success:function(t){e.caseId=t.data,e.activeCheck=0,e.$set(e.dropzoneOptions,"url","/uploadsImage/".concat(t.data)),console.log(e.dropzoneOptions.url),e.$message({message:"信息已上传",type:"success"}),sessionStorage.getItem("submitInfo",!0)},fail:function(t){e.$message({message:t.msg,type:"warning"})},error:function(t){e.$message({message:"服务器异常",type:"warning"})}}):this.$message({message:"请先填写图像质量",type:"warning"})},downLoadImage:function(e){window.open("http://127.0.0.1/download/".concat(e.case_id))},submitCaseFile:function(){if(this.tall){var e=this.$route.query,t=e.to;"manager"===t?this.$store.commit("popBreadcrumbData",0):this.$store.commit("popBreadcrumbData",1),delete e.to,this.$router.replace({name:t,query:Object(h["a"])({},e)}),T({params:{case_id:this.caseId,flag:1},success:function(e){console.log(e)}})}else this.$message({message:"请先填写身高体重",type:"warning"})},initMessage:function(){this.$message({message:"文件已上传完毕，请点击“确认上传”按钮",type:"success"})}}}),at=tt,st=(a("c93a"),Object(c["a"])(at,Xe,et,!1,null,"7376ea45",null)),it=st.exports,nt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"report-page"},[a("div",{staticClass:"w",attrs:{id:"pdfDom"}},[a("img",{staticClass:"report-page-top",attrs:{src:e.topImgUrl}}),a("div",{ref:"exportPdf",staticClass:"report-view"},[a("div",{staticClass:"report-view-title"},[e._v(" 肝脏结构化报告 ")]),a("div",{staticClass:"report-page-container"},[a("div",{staticClass:"spliter"}),a("div",{staticClass:"private-cloud-section-title"},[e._v("病人信息")]),a("div",{staticClass:"private-cloud-business"},[a("div",{staticClass:"business"},[a("img",{staticClass:"business-icon",attrs:{src:e.bussinessUrl}}),a("div",{staticClass:"business-content"},[e._v("姓名："+e._s(e.report.name))])]),a("div",{staticClass:"business"},[a("img",{staticClass:"business-icon",attrs:{src:e.bussinessUrl}}),a("div",{staticClass:"business-content"},[e._v("身份证号："+e._s(e.report.identify_card))])]),a("div",{staticClass:"business"},[a("img",{staticClass:"business-icon",attrs:{src:e.bussinessUrl}}),a("div",{staticClass:"business-content"},[e._v("年龄："+e._s(e.report.age))])]),a("div",{staticClass:"business"},[a("img",{staticClass:"business-icon",attrs:{src:e.bussinessUrl}}),a("div",{staticClass:"business-content"},[e._v("性别："+e._s(e.report.sex))])])]),a("div",{staticClass:"spliter"}),a("div",{staticClass:"private-cloud-section-title"},[e._v("肝脏分割结果图")]),a("div",{staticClass:"report-page-body"},e._l(e.imgData,(function(t,s){return a("div",{key:s.toString(),class:"report-page-content"},[a("el-image",{staticClass:"img-view",attrs:{src:t,"preview-src-list":e.getImgDataBig(s)}})],1)})),0),a("div",{staticClass:"private-cloud-section-title"},[e._v("肝脏检测数据")]),a("div",{staticClass:"detail-page-bottom"},[a("el-table",{attrs:{data:e.tableData,stripe:"",width:400,"header-cell-class-name":"cell-text-center","cell-class-name":"cell-text-center"}},[a("el-table-column",{attrs:{prop:"time",label:"时间"}}),a("el-table-column",{attrs:{prop:"height",label:"身高"}}),a("el-table-column",{attrs:{prop:"weight",label:"体重"}}),a("el-table-column",{attrs:{label:"体表面积"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(" "+e._s(parseFloat(t.row.body_surface_area||0).toFixed(4))+" ")])]}}])}),a("el-table-column",{attrs:{label:"实测肝体积"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(" "+e._s(parseFloat(t.row.real_liver_volume||0).toFixed(4))+" ")])]}}])}),a("el-table-column",{attrs:{label:"标准肝体积"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(" "+e._s(parseFloat(t.row.standard_liver_volume||0).toFixed(4))+" ")])]}}])}),a("el-table-column",{attrs:{label:"脾脏体积"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(" "+e._s(parseFloat(t.row.real_spleen_volume||0).toFixed(4))+" ")])]}}])}),a("el-table-column",{attrs:{label:"肝脾比"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(" "+e._s(parseFloat(t.row.liver_spleen_ratio||0).toFixed(4))+" ")])]}}])}),a("el-table-column",{attrs:{label:"肿瘤体积"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(" "+e._s(parseFloat(t.row.tumor_volume||0).toFixed(4))+" ")])]}}])}),e._v(" --\x3e "),a("el-table-column",{attrs:{label:"备注"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.row.information,placement:"right-end"}},[a("div",{attrs:{slot:""},slot:"default"},[e._v(e._s(t.row.information))]),t.row.information?a("el-button",{attrs:{type:"text"}},[e._v("查看")]):e._e()],1)]}}])}),a("el-table-column",{scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.schedule?a("el-button",{attrs:{type:"text"}},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.count<1&&e.crtIndex!==t.$index,expression:"count < 1 && crtIndex !== scope.$index"}],attrs:{type:"text"},nativeOn:{click:function(a){return a.preventDefault(),e.executeAgain(t.row,t,e.tableData)}}},[e._v("重试")]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.count>=1&&e.crtIndex===t.$index,expression:"count >= 1 && crtIndex === scope.$index"}],staticClass:"count",staticStyle:{color:"#000",cursor:"default"}},[e._v(e._s(e.count)+"s后重试")])],1):e._e()]}}])}),e._v(" --\x3e ")],1)],1),a("div",{staticClass:"private-cloud-section-title"},[e._v("数值检测建议")]),e._m(0)])]),a("div",{staticClass:"export-report-btn",on:{click:function(t){return e.savePdf()}}},[e._v("导出报告")])])])},rt=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"company-plan"},[a("div",{staticClass:"plan-view"},[a("div",{staticClass:"plan-view-title"},[e._v("肝脏数值")]),a("div",{staticClass:"plan-view-content"},[e._v("超过平均肝脾比 ，达到预警值")])]),a("div",{staticClass:"plan-view"},[a("div",{staticClass:"plan-view-title"},[e._v("肿瘤")]),a("div",{staticClass:"plan-view-content"},[e._v("肿瘤面积达到 ×××，达到预警值 ")])])])}],ot={components:{"v-chart":we["a"]},data:function(){var e;return{topImgUrl:a("a205"),titleImgUrl:a("a205"),bussinessUrl:a("e0a9"),CPUType:"",CPUNum:"",RAMType:"",RAMNum:"",storageType:"",storageCapacity:"",netType:"",netNum:"",htmlTitle:"report",crtIndex:-1,liverVolumeChart:{title:{text:"肝体积变化图",textStyle:{color:"#4F4E4E",letterSpace:1},top:"5%",left:"5%"},tooltip:{trigger:"axis",axisPointer:{show:!0,type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{data:["肝脏体积"],textStyle:{fontSize:16,color:"#4F4E4E"},top:"5%",right:30},toolbox:{feature:{saveAsImage:{}}},grid:{left:20,right:60,bottom:"3%",containLabel:!0},xAxis:[Object(be["a"])({type:"category",boundaryGap:!1,data:[],axisLable:{show:!0},axisTick:{show:!1},axisLine:{show:!1}},"boundaryGap",!0)],yAxis:[{type:"value",axisTick:{show:!1},axisLine:{show:!1},axisLable:{show:!1,rotate:"45",fontSize:15,textStyle:{color:"#000",fontSize:15}}}],dataZoom:[{start:0,type:"slider",show:!0,xAxisIndex:[0],handleSize:0,height:5,left:"10%",right:"10%",bottom:26,borderColor:"#fff",fillerColor:"#a5a5a5",borderRadius:5,backgroundColor:"transform",showDataShadow:!1,showDetail:!1,realtime:!0,filterMode:"filter"}],series:[(e={name:"肝脏体积",type:"line",stack:"总量",smooth:!0,lineStyle:{color:"#3da58fff"},itemStyle:{color:"#3da58fff"},label:{fontSize:25},areaStyle:{normal:{color:new Ce.a.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(61, 165, 143, 0.8)"},{offset:.4,color:"rgba(34,182,150,0.3)"},{offset:1,color:"rgba(34,182,150,0.00)"}])}}},Object(be["a"])(e,"label",{normal:{show:!0,position:"top",fontSize:15}}),Object(be["a"])(e,"data",[]),e)]},liverSpleenRatioChart:{title:{text:"肝脾比/平滑度",textStyle:{Color:"#4F4E4E",letterSpace:1},top:"5%",left:"5%"},tooltip:{trigger:"axis",axisPointer:{show:!0,type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{data:["肝脾比","平滑度"],textStyle:{fontSize:16},top:"5%",right:"15%"},toolbox:{feature:{saveAsImage:{}}},grid:{left:20,right:60,bottom:"3%",containLabel:!0},xAxis:[Object(be["a"])({type:"category",boundaryGap:!1,data:[],axisTick:{show:!1},axisLine:{show:!1}},"boundaryGap",!0)],yAxis:[{type:"value",show:!0,axisTick:{show:!1},axisLine:{show:!1}}],dataZoom:[{start:0,type:"slider",show:!0,xAxisIndex:[0],handleSize:0,height:5,left:"10%",right:"10%",bottom:26,borderColor:"#fff",fillerColor:"#a5a5a5",borderRadius:5,backgroundColor:"transform",showDataShadow:!1,showDetail:!1,realtime:!0,filterMode:"filter"}],series:[{name:"肝脾比",type:"line",smooth:!0,areaStyle:{normal:{color:new Ce.a.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(36,114,210,0.8)"},{offset:.4,color:"rgba(36,114,210,0.3)"},{offset:1,color:"rgba(36,114,210,0.00)"}])}},itemStyle:{normal:{color:"rgb(36,114,210)",lineStyle:{color:"rgb(36,114,210)"}}},label:{normal:{show:!0,position:"top",fontSize:15}},data:[]},{name:"平滑度",type:"line",smooth:!0,areaStyle:{normal:{color:new Ce.a.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(237,115,68,0.8)"},{offset:.4,color:"rgba(237,115,68,0.3)"},{offset:1,color:"rgba(237,115,68,0.00)"}])}},itemStyle:{color:"#ED7344"},lineStyle:{color:"#ED7344"},label:{normal:{show:!0,position:"top",fontSize:15}},data:[]}]},imgData:[],imgDataBig:[],report:{},chartData:[],tableData:[],detail:{},total:0,pageNum:0,pageSize:10,analyseSuccess:1,analyse_caseId:"",show:!1,count:"",timerr:null}},created:function(){},mounted:function(){var e=this;this.$nextTick((function(){e.detail=e.$route.query,e.report=e.$route.query,e.getTableData(),e.getChartsData("volume","liverVolumeChart",0),e.getChartsData("smooth","liverSpleenRatioChart",1),e.getChartsData("ratio","liverSpleenRatioChart",0),e.timer(),e.getCode(),e.getDDViewData(),e.getReportInfo()}))},beforeDestroy:function(){clearInterval(this.intervalTimer)},methods:{handleCurrentChange:function(e){this.pageNum=e},getReportInfo:function(){var e=this;(void 0)({params:{case_id:this.$route.query.case_id},success:function(t){e.CPUType=t.data.cpu_type,e.CPUNum=t.data.cpu_count,e.RAMType=t.data.memory_type,e.RAMNum=t.data.memory_count,e.storageType=t.data.storage_type,e.storageCapacity=t.data.storage_count,e.netType=t.data.network_type,e.netNum=t.data.network_count},fail:function(t){e.$message({message:t.msg,type:"warning"})},error:function(t){console.log(t),e.$message({message:"服务器异常",type:"warning"})}})},savePdf:function(){this.$PDFSave(this.$refs.exportPdf,"我的文件")},getImgDataBig:function(e){return this.imgDataBig.slice(e).concat(this.imgDataBig.slice(0,e))},getDDViewData:function(){var e=this;q({params:{case_id:this.$route.query.case_id,organ:"liver",num:4},success:function(t){var a=[],s=[];t.data.map((function(e){a.push("/getFile?file_path=".concat(e));var t=e.split("/min_"),i=t.join("/");s.push("/getFile?file_path=".concat(i))})),e.imgData=a,e.imgDataBig=s},fail:function(t){e.$message({message:t.msg,type:"warning"})},error:function(t){e.$message({message:"服务器异常",type:"warning"})}})},download:function(e){window.open("http://192.1.100.223:5002/download/".concat(e.case_id))},executeAgain:function(e,t){this.crtIndex=t.$index,this.getCode(),P({params:{case_id:e.case_id,flag:0}})},getCode:function(){var e=this,t=120;this.timerr||(this.count=t,this.show=!1,this.timerr=setInterval((function(){e.count>0&&e.count<=t?e.count--:(e.show=!0,clearInterval(e.timerr),e.timerr=null)}),1e3))},report:function(e){this.$router.push({name:"report",query:Object(h["a"])({case_id:e.case_id},this.$route.query)});var t={name:"结构化报告",path:"/index/report"};this.$store.commit("addBreadcrumbData",t)},dddview:function(e){this.$router.push({name:"view3d",query:Object(h["a"])({case_id:e.case_id},this.$route.query)});var t={name:"查看3维图像",path:"/index/view3d"};this.$store.commit("addBreadcrumbData",t)},addCase:function(){this.$router.replace({name:"addcase",query:Object(h["a"])(Object(h["a"])({},this.$route.query),{},{to:"detail"})});var e={name:"新增影像病历",path:"/index/addcase"};this.$store.commit("addBreadcrumbData",e)},ddviewLiver:function(e){this.$router.push({name:"view2d",query:Object(h["a"])({case_id:e.case_id,organ:"liver"},this.$route.query)});var t={name:"查看2维图像",path:"/index/view2d"};this.$store.commit("addBreadcrumbData",t)},ddviewSpleen:function(e){this.$router.push({name:"view2d",query:Object(h["a"])({case_id:e.case_id,organ:"spleen"},this.$route.query)});var t={name:"查看2维图像",path:"/index/view2d"};this.$store.commit("addBreadcrumbData",t)},ddviewTumor:function(e){this.$router.push({name:"view2d",query:Object(h["a"])({case_id:e.case_id,organ:"tumor"},this.$route.query)});var t={name:"查看2维图像",path:"/index/view2d"};this.$store.commit("addBreadcrumbData",t)},getChartsData:function(e,t,a){var s=this;z({params:{identify_card:this.detail.identify_card,type:e},success:function(e){var i=[],n=[];e.data.map((function(e){i.push({value:e.date,textStyle:{fontSize:15}}),n.push(parseFloat(e.value||0).toFixed(4))})),s.$set(s[t].xAxis[0],"data",i),s.$set(s[t].series[a],"data",n)},fail:function(e){s.$message({message:e.msg,type:"warning"})},error:function(e){s.$message({message:"服务器异常",type:"warning"})}})},getTableData:function(){var e=this;F({params:{identify_card:this.detail.identify_card},success:function(t){e.tableData=t.data,e.total=t.case_count;var a=e.tableData.find((function(e){return 0==e.schedule}));a||clearInterval(e.intervalTimer)},fail:function(t){e.$message({message:t.msg,type:"warning"})},error:function(t){e.$message({message:res.msg,type:"warning"})}})},deleteInfo:function(e){var t=this;R({params:{case_id:[e.case_id]},success:function(e){t.getTableData(),t.getChartsData("volume","liverVolumeChart",0),t.getChartsData("smooth","liverSpleenRatioChart",1),t.getChartsData("ratio","liverSpleenRatioChart",0)},fail:function(e){t.getTableData(),t.getChartsData("volume","liverVolumeChart",0),t.getChartsData("smooth","liverSpleenRatioChart",1),t.getChartsData("ratio","liverSpleenRatioChart",0)},error:function(e){t.$message({message:e.data,type:"warning"})}})},timer:function(){var e=this;this.intervalTimer=setInterval((function(){e.getTableData(),e.getChartsData("volume","liverVolumeChart",0),e.getChartsData("smooth","liverSpleenRatioChart",1),e.getChartsData("ratio","liverSpleenRatioChart",0)}),3e4)}}},ct=ot,lt=(a("4dad"),Object(c["a"])(ct,nt,rt,!1,null,null,null)),dt=lt.exports,ut=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.model,expression:"model"}],staticClass:"model",on:{click:function(t){e.model=!1}}},[a("div",{staticClass:"model-show"},[a("img",{attrs:{src:e.modelSrc,alt:""}})])]),a("div",{staticClass:"cut"},[a("vue-cropper",{ref:"cropper",attrs:{img:e.option.img,"output-size":e.option.size,"output-type":e.option.outputType,info:!0,infoTrue:e.option.infoTrue,full:e.option.full,fixed:e.fixed,"fixed-number":e.fixedNumber,"can-move":e.option.canMove,"can-move-box":e.option.canMoveBox,"fixed-box":e.option.fixedBox,original:e.option.original,"auto-crop":e.option.autoCrop,"auto-crop-width":e.option.autoCropWidth,"auto-crop-height":e.option.autoCropHeight,"center-box":e.option.centerBox,high:e.option.high,mode:"cover"},on:{"real-time":e.realTime,"img-load":e.imgLoad}})],1),a("div",{staticClass:"test-button"},[a("el-button",{staticClass:"el-btn-item",attrs:{type:"text"},nativeOn:{click:function(t){return t.preventDefault(),e.execImage(t)}}},[e._v("计算")]),a("div",{staticStyle:{display:"block",width:"100%",color:"#000"}},[a("label",{staticClass:"c-item"},[a("span",[e._v("平滑度:")]),a("span",[e._v(e._s(e.smoothDegree))])])])],1)])},mt=[],pt=a("53ca"),gt=a("7e79"),ft=a.n(gt),ht={data:function(){return{model:!1,modelSrc:"",crap:!1,previews:{},lists:[{img:a("72dd")},{img:a("72dd")}],option:{img:"",size:1,full:!0,infoTrue:!0,outputType:"png",canMove:!0,fixedBox:!1,original:!0,canMoveBox:!0,autoCrop:!0,autoCropWidth:200,autoCropHeight:150,centerBox:!0,high:!0},show:!0,fixed:!1,fixedNumber:[1,2],info:!0,canScale:!0,infoTrue:!0,maxImgSize:2e3,enlarge:1,mode:"auto",pageSize:21,pageNum:1,imgData:[],imgDataBig:[],imgAxis:[],cropAxis:[],smoothDegree:""}},methods:{changeImg:function(){this.option.img=this.lists[~~(Math.random()*this.lists.length)].img},execImage:function(){var e=this,t="",a="";t=this.$refs.cropper.getCropAxis(),a=this.$refs.cropper.getImgAxis(),L({params:{case_id:this.$route.query.case_id,num:this.$route.query.num,location:[a,t]},success:function(t){e.smoothDegree=t.data},fail:function(t){e.$message({message:t.msg,type:"warning"})},error:function(t){e.$message({message:"服务器异常",type:"warning"})}})},startCrop:function(){this.crap=!0,this.$refs.cropper.startCrop()},stopCrop:function(){this.crap=!1,this.$refs.cropper.stopCrop()},getCropAxis:function(){var e=this;this.$refs.cropper.getCropAxis((function(t){e.cropAxis=t}))},getImgAxis:function(){var e=this;this.$refs.cropper.getImgAxis((function(t){e.imgAxis=t}))},clearCrop:function(){this.$refs.cropper.clearCrop()},refreshCrop:function(){this.$refs.cropper.refresh()},changeScale:function(e){e=e||1,this.$refs.cropper.changeScale(e)},rotateLeft:function(){this.$refs.cropper.rotateLeft()},rotateRight:function(){this.$refs.cropper.rotateRight()},finish:function(e){var t=this;"blob"===e?this.$refs.cropper.getCropBlob((function(e){console.log(e);var a=window.URL.createObjectURL(e);t.model=!0,t.modelSrc=a})):this.$refs.cropper.getCropData((function(e){t.model=!0,t.modelSrc=e}))},realTime:function(e){this.previews=e,this.$emit("",this.previews),console.log(e)},finish2:function(e){var t=this;this.$refs.cropper2.getCropData((function(e){t.model=!0,t.modelSrc=e}))},finish3:function(e){var t=this;this.$refs.cropper3.getCropData((function(e){t.model=!0,t.modelSrc=e}))},down:function(e){var t=this,a=document.createElement("a");a.download="demo","blob"===e?this.$refs.cropper.getCropBlob((function(e){t.downImg=window.URL.createObjectURL(e),a.href=window.URL.createObjectURL(e),a.click()})):this.$refs.cropper.getCropData((function(e){t.downImg=e,a.href=e,a.click()}))},uploadImg:function(e,t){var a=this,s=e.target.files[0];if(!/\.(gif|jpg|jpeg|png|bmp|GIF|JPG|PNG)$/.test(e.target.value))return alert("图片类型必须是.gif,jpeg,jpg,png,bmp中的一种"),!1;var i=new FileReader;i.onload=function(e){var s;s="object"===Object(pt["a"])(e.target.result)?window.URL.createObjectURL(new Blob([e.target.result])):e.target.result,1===t?a.option.img=s:2===t&&(a.example2.img=s)},i.readAsArrayBuffer(s)},imgLoad:function(e){console.log(e)},handleCurrentChange:function(e){this.pageNum=e},getImgDataBig:function(e){return this.imgDataBig.slice(e).concat(this.imgDataBig.slice(0,e))},getSmooth:function(){var e=this;E({params:{case_id:this.$route.query.case_id,num:this.$route.query.num},success:function(t){var a=[],s=t.data;a.push("/getFile?file_path=".concat(s)),e.option.img=a[0]},fail:function(t){e.$message({message:t.msg,type:"warning"})},error:function(t){e.$message({message:"服务器异常",type:"warning"})}})}},mounted:function(){this.getSmooth()},beforeDestroy:function(){var e=this.$route.query;console.log(e),delete e.num,this.$route.query=e}},vt=ht,bt=(a("95f6"),Object(c["a"])(vt,ut,mt,!1,null,"6af1122a",null)),wt=bt.exports,yt=[{path:"/",name:"",redirect:"/login"},{path:"/login",name:"login",component:oe},{path:"/resetpwd",name:"resetpwd",component:Ge},{path:"/index/:id",name:"app",component:fe,children:[{path:"/index/manager",name:"manager",component:G},{path:"/index/addcase",name:"addcase",component:ee},{path:"/index/detail",name:"detail",component:je},{path:"/index/view2d",name:"view2d",component:Ne},{path:"/index/newinfo",name:"newinfo",component:We},{path:"/index/view3d",name:"view3d",component:Ue},{path:"/index/addimage",name:"image",component:it},{path:"/index/report",name:"report",component:dt},{path:"/index/imagecut",name:"imagecut",component:wt}]}],Ct=a("a7fe"),_t=a.n(Ct),xt=a("2f62"),Dt={state:{breadcrumbData:function(){var e=JSON.parse(sessionStorage.getItem("breadcrumbData"));return e||(e=[{name:"档案管理",path:"/index/manager"}]),e}()},mutations:{addBreadcrumbData:function(e,t){var a=e.breadcrumbData.find((function(e){return t.path===e.path}));a||(e.breadcrumbData.push(t),sessionStorage.setItem("breadcrumbData",JSON.stringify(e.breadcrumbData)))},popBreadcrumbData:function(e,t){for(var a=e.breadcrumbData,s=[],i=0;i<=t;i++)s.push(a[i]);e.breadcrumbData=s,sessionStorage.setItem("breadcrumbData",JSON.stringify(e.breadcrumbData))}}},jt=a("c8fc"),St=a.n(jt),kt=a("14b5"),$t=a("6199"),At=a.n($t);s["default"].use(ft.a),s["default"].use(St.a),s["default"].use(kt["a"]),s["default"].component("v-chart",we["a"]),s["default"].component("vueDropzone",Y.a),s["default"].prototype.sha1=At.a,s["default"].use(xt["a"]);var It=new xt["a"].Store(Dt);s["default"].use(m.a),s["default"].use(_t.a,b.a),s["default"].use(p["a"]);var Nt=new p["a"]({routes:yt});s["default"].config.productionTip=!1,new s["default"]({router:Nt,store:It,render:function(e){return e(d)}}).$mount("#app")},6114:function(e,t,a){},"6e2b":function(e,t,a){},"72dd":function(e,t,a){e.exports=a.p+"img/bg1.4c65d699.png"},"83c5":function(e,t,a){"use strict";var s=a("f4a2"),i=a.n(s);i.a},"95f6":function(e,t,a){"use strict";var s=a("463d"),i=a.n(s);i.a},"9c86":function(e,t,a){},a205:function(e,t,a){e.exports=a.p+"img/reportTop.d40735a2.png"},a3a0:function(e,t,a){"use strict";var s=a("11ff"),i=a.n(s);i.a},b557:function(e,t,a){},c318:function(e,t,a){"use strict";var s=a("d4e0"),i=a.n(s);i.a},c7f2:function(e,t,a){"use strict";var s=a("4ffb"),i=a.n(s);i.a},c93a:function(e,t,a){"use strict";var s=a("b557"),i=a.n(s);i.a},ca46:function(e,t,a){},d4e0:function(e,t,a){},dc24:function(e,t,a){"use strict";var s=a("ca46"),i=a.n(s);i.a},e0a9:function(e,t,a){e.exports=a.p+"img/reportView.2ef79f31.png"},e0c5:function(e,t,a){},e518:function(e,t,a){},eee8:function(e,t,a){},f4a2:function(e,t,a){}});
//# sourceMappingURL=app.0d14bc69.js.map